<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Clean</title>
    <th:block th:insert="~{common/home_head_tag}"></th:block>
</head>
<body>
    <th:block th:insert="~{common/home_content_first}"></th:block>

    <section class="contained">
        <h2 class="section-title ff-damion">Request a Service</h2>
        <p class="col-wide ta-center mlmr-a">
            Please fill out the form below to request more information or book a service.
        </p>
        <!-- FORM START -->
        <form th:action="@{/contracts/checkout}" method="post" class="message-form mt-50 mb-25">
            <input type="hidden" th:value="${session.customerId}">
            <div class="row">
                <!-- CONTACT INFO START -->
                <div class="col-balance map-embed">
                    <input type="hidden" name="empServiceId" value="yourEmpServiceIdValue" />
                    <input type="hidden" name="contractId" value="yourContractIdValue" />
                    <input type="hidden" name="contractStatus" value="0" />
                    <input type="hidden" name="paymentStatus" value="0" />

                    <h2 class="fs-h4 fc-primary mb-15">Request Information</h2>

                    <!-- Select Time Type -->
                    <span class="fs-h4 mb-15 mt-25 fc-primary">Select Service Duration Type:</span>
                    <div class="input-group">
                        <i class="bi bi-calendar-range"></i>
                        <select name="durationType" id="durationType" onchange="toggleDurationFields()" required>
                            <option value="" disabled selected>Select Duration Type</option>
                            <option value="one_time">One Time</option>
                            <option value="by_day">By Day</option>
                            <option value="by_month">Monthly</option>
                        </select>
                    </div>

                    <!-- One Time Duration Fields -->
                    <div id="oneTimeDurationFields" style="display:none;">
                        <span class="fs-h4 mb-15 mt-25 fc-primary">Select Service Time:</span>
                        <div class="input-group">
                            <i class="bi bi-clock"></i>
                            <input type="time" name="startTime" id="startTime" min="08:00" max="20:00" required /> to
                            <input type="time" name="endTime" id="endTime" min="08:00" max="20:00" required />
                        </div>

                        <span class="fs-h4 mb-15 mt-25 fc-primary">Select Service Date:</span>
                        <div class="input-group">
                            <i class="bi bi-calendar-event"></i>
                            <input type="date" name="serviceDate" id="serviceDate" required />
                        </div>
                    </div>

                    <!-- By Day Duration Fields -->
                    <div id="dayDurationFields" style="display:none;">
                        <span class="fs-h4 mb-15 mt-25 fc-primary">Select Service Time:</span>
                        <div class="input-group">
                            <i class="bi bi-clock"></i>
                            <input type="time" name="startTime" id="startTime" min="08:00" max="20:00" required /> to
                            <input type="time" name="endTime" id="endTime" min="08:00" max="20:00" required />
                        </div>

                        <span class="fs-h4 mb-15 mt-25 fc-primary">Start Date:</span>
                        <div class="input-group">
                            <i class="bi bi-calendar-event"></i>
                            <input type="date" name="startDate" id="startDate" required />
                        </div>

                        <span class="fs-h4 mb-15 mt-25 fc-primary">End Date:</span>
                        <div class="input-group">
                            <i class="bi bi-calendar-event"></i>
                            <input type="date" name="endDate" id="endDate" required />
                        </div>

                        <span class="fs-h4 mb-15 mt-25 fc-primary">Working Hours Per Day:</span>
                        <div class="input-group">
                            <i class="bi bi-clock"></i>
                            <select id="workingHoursPerDay" name="workingHoursPerDay" required>
                                <option value="" disabled selected>Select working hours per day</option>
                                <option value="1">1 hour/day</option>
                                <option value="2">2 hours/day</option>
                                <option value="4">4 hours/day</option>
                                <option value="8">8 hours/day</option>
                            </select>
                        </div>
                    </div>

                    <!-- Monthly Duration Fields -->
                    <div id="monthlyDurationFields" style="display:none;">
                        <span class="fs-h4 mb-15 mt-25 fc-primary">Select Service Time:</span>
                        <div class="input-group">
                            <i class="bi bi-clock"></i>
                            <input type="time" name="startTime" id="startTime" min="08:00" max="20:00" required /> to
                            <input type="time" name="endTime" id="endTime" min="08:00" max="20:00" required />
                        </div>

                        <span class="fs-h4 mb-15 mt-25 fc-primary">Start Date:</span>
                        <div class="input-group">
                            <i class="bi bi-calendar-event"></i>
                            <input type="date" name="startDate" id="startDate" required />
                        </div>

                        <span class="fs-h4 mb-15 mt-25 fc-primary">End Date:</span>
                        <div class="input-group">
                            <i class="bi bi-calendar-event"></i>
                            <input type="date" name="endDate" id="endDate" required />
                        </div>

                        <span class="fs-h4 mb-15 mt-25 fc-primary">Working Hours Per Day:</span>
                        <div class="input-group">
                            <i class="bi bi-clock"></i>
                            <select id="workingHoursPerDay" name="workingHoursPerDay" required>
                                <option value="" disabled selected>Select working hours per day</option>
                                <option value="1">1 hour/day</option>
                                <option value="2">2 hours/day</option>
                                <option value="4">4 hours/day</option>
                                <option value="8">8 hours/day</option>
                            </select>
                        </div>

                        <span class="fs-h4 mb-15 mt-25 fc-primary">Number of Working Days Per Week:</span>
                        <div class="input-group">
                            <i class="bi bi-calendar-week"></i>
                            <select id="workingDaysPerWeek" name="workingDaysPerWeek" required>
                                <option value="" disabled selected>Select working days per week</option>
                                <option value="1">1 day/week</option>
                                <option value="2">2 days/week</option>
                                <option value="3">3 days/week</option>
                                <option value="4">4 days/week</option>
                                <option value="5">5 days/week</option>
                                <option value="6">6 days/week</option>
                                <option value="7">7 days/week</option>
                            </select>
                        </div>
                    </div>

                    <!-- Service Location -->
                    <span class="fs-h4 mb-15 mt-25 fc-primary">Where to go:</span>
                    <a class="display-inblock">
                        <i class="bi bi-geo-alt-fill"></i>
                        <input type="text" name="serviceAddress" placeholder="Service location address." required />
                    </a>

                    <!-- Contact Information -->
                    <span class="fs-h4 mb-15 mt-25 fc-primary">Say hello:</span>
                    <a class="display-inblock">
                        <i class="bi bi-telephone-fill"></i>
                        <input type="text" name="servicePhone" placeholder="Your Phone Number" required />
                    </a>

                    <!-- Hidden Field for Total Hours -->
                    <input type="hidden" id="totalHours" name="hoursWorked" required />

                    <!-- Submit Button -->
                    <button type="submit" class="btn-bg1 border-round mt-20">Send</button>
                </div>
            </div>
        </form>
        <!-- FORM END -->

    </section>
    <!-- ========== section end ========== -->

    <th:block th:insert="~{common/home_content_footer}"></th:block>

    <script>
        // Hàm để ẩn/hiện các trường theo loại thời gian đã chọn
        function toggleDurationFields() {
            const durationType = document.getElementById('durationType').value; // Lấy giá trị loại thời gian
            const oneTimeFields = document.getElementById('oneTimeDurationFields'); // Trường thời gian theo "One Time"
            const dayFields = document.getElementById('dayDurationFields'); // Trường thời gian theo ngày
            const monthlyFields = document.getElementById('monthlyDurationFields'); // Trường thời gian theo tháng

            // Điều chỉnh hiển thị các trường theo loại thời gian đã chọn
            if (durationType === 'one_time') {
                oneTimeFields.style.display = 'block';  // Hiển thị trường "One Time"
                dayFields.style.display = 'none';  // Ẩn các trường theo ngày
                monthlyFields.style.display = 'none';  // Ẩn các trường theo tháng
            } else if (durationType === 'by_day') {
                oneTimeFields.style.display = 'none';  // Ẩn "One Time"
                dayFields.style.display = 'block';  // Hiển thị trường theo ngày
                monthlyFields.style.display = 'none';  // Ẩn các trường theo tháng
            } else if (durationType === 'by_month') {
                oneTimeFields.style.display = 'none';  // Ẩn "One Time"
                dayFields.style.display = 'none';  // Ẩn các trường theo ngày
                monthlyFields.style.display = 'block';  // Hiển thị các trường theo tháng
            }
        }
    </script>

</body>
</html>
